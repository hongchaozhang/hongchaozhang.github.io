
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Basic Git Commands - Reading Space</title>
	<meta name="author" content="Zhang Hongchao">

	
	<meta name="description" content="Basic Git Commands Contents Check Current Status
Branch Operation
Use git commit &ndash;amend
Check commit history
.gitignore
Using git stash
Use &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Reading Space" type="application/atom+xml">
	
	<link rel="canonical" href="http://hongchaozhang.github.io/blog/2015/07/09/Basic-Git-Commands/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-62806905-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body class="single">
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li><a href="/about">About</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
		
			<a class="github" href="https://github.com/hongchaozhang" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>



<section class="categories">
          <ul id="category_cloud" class="nav nav-list"><a href='/blog/categories/algorithm' style='font-size: 102.18181818181819%; color: #ffffff;'>algorithm(2)</a> <a href='/blog/categories/android' style='font-size: 106.54545454545455%; color: #4fc3f7;'>android(6)</a> <a href='/blog/categories/android-studio' style='font-size: 101.0909090909091%; color: #ffffff;'>android studio(1)</a> <a href='/blog/categories/augmented-reality' style='font-size: 104.36363636363636%; color: #ffffff;'>augmented reality(4)</a> <a href='/blog/categories/babel' style='font-size: 101.0909090909091%; color: #ffffff;'>babel(1)</a> <a href='/blog/categories/cs' style='font-size: 101.0909090909091%; color: #ffffff;'>cs(1)</a> <a href='/blog/categories/css' style='font-size: 103.27272727272727%; color: #ffffff;'>css(3)</a> <a href='/blog/categories/design-pattern' style='font-size: 103.27272727272727%; color: #ffffff;'>design pattern(3)</a> <a href='/blog/categories/html' style='font-size: 104.36363636363636%; color: #ffffff;'>html(4)</a> <a href='/blog/categories/http' style='font-size: 103.27272727272727%; color: #ffffff;'>http(3)</a> <a href='/blog/categories/ios' style='font-size: 149.0909090909091%; color: #cc5252;'>ios(45)</a> <a href='/blog/categories/java' style='font-size: 102.18181818181819%; color: #ffffff;'>java(2)</a> <a href='/blog/categories/javascript' style='font-size: 107.63636363636364%; color: #4fc3f7;'>javascript(7)</a> <a href='/blog/categories/llm' style='font-size: 101.0909090909091%; color: #ffffff;'>llm(1)</a> <a href='/blog/categories/machine-learning' style='font-size: 110.9090909090909%; color: #4fc3f7;'>machine learning(10)</a> <a href='/blog/categories/map-tech' style='font-size: 103.27272727272727%; color: #ffffff;'>map tech(3)</a> <a href='/blog/categories/mobile' style='font-size: 101.0909090909091%; color: #ffffff;'>mobile(1)</a> <a href='/blog/categories/mongodb' style='font-size: 101.0909090909091%; color: #ffffff;'>mongodb(1)</a> <a href='/blog/categories/music' style='font-size: 107.63636363636364%; color: #4fc3f7;'>music(7)</a> <a href='/blog/categories/nlp' style='font-size: 102.18181818181819%; color: #ffffff;'>nlp(2)</a> <a href='/blog/categories/nlu' style='font-size: 102.18181818181819%; color: #ffffff;'>nlu(2)</a> <a href='/blog/categories/nodejs' style='font-size: 107.63636363636364%; color: #4fc3f7;'>nodejs(7)</a> <a href='/blog/categories/objective-c' style='font-size: 124.0%; color: #ffb74d;'>objective-c(22)</a> <a href='/blog/categories/philosophy' style='font-size: 102.18181818181819%; color: #ffffff;'>philosophy(2)</a> <a href='/blog/categories/productivity' style='font-size: 126.18181818181819%; color: #ffb74d;'>productivity(24)</a> <a href='/blog/categories/python' style='font-size: 107.63636363636364%; color: #4fc3f7;'>python(7)</a> <a href='/blog/categories/react' style='font-size: 101.0909090909091%; color: #ffffff;'>react(1)</a> <a href='/blog/categories/reading' style='font-size: 160.0%; color: #ff5252;'>reading(55)</a> <a href='/blog/categories/server' style='font-size: 101.0909090909091%; color: #ffffff;'>server(1)</a> <a href='/blog/categories/swift' style='font-size: 107.63636363636364%; color: #4fc3f7;'>swift(7)</a> <a href='/blog/categories/web' style='font-size: 116.36363636363636%; color: #81c784;'>web(15)</a> <a href='/blog/categories/wwdc' style='font-size: 102.18181818181819%; color: #ffffff;'>wwdc(2)</a> <a href='/blog/categories/xcode' style='font-size: 108.72727272727272%; color: #4fc3f7;'>xcode(8)</a> </ul>
      </section>


</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Basic Git Commands</h1>
	<div class="entry-content" itemprop="articleBody"><h1>Contents</h1>

<ul>
<li><a href="#check_status">Check Current Status</a></li>
<li><a href="#branch_operation">Branch Operation</a></li>
<li><a href="#git_commit_amend">Use <em>git commit &ndash;amend</em></a></li>
<li><a href="#check_commit_history">Check commit history</a></li>
<li><a href="#git_ignore">.gitignore</a></li>
<li><a href="#git_stash">Using <em>git stash</em></a></li>
<li><a href="#kdiff3">Use <em>kdiff3</em> as the default tool for git</a></li>
</ul>


<!-- more -->


<p><strong>Git</strong> commands can be searched everywheere. Here I will list only the commonly used ones in <strong>my</strong> development.</p>

<p>First of all, try the following commands first:</p>

<ul>
<li><p><strong>git help:</strong> get git basic commands.</p></li>
<li><p><strong>git help COMMAND:</strong> get help of a command.</p></li>
</ul>


<h2><a name="check_status"></a>Check Current Status</h2>

<h3>Origin</h3>

<p>Use<code>git remote -v</code> or <code>git config --get remote.origin.url</code> to get current origin info.</p>

<h3>Branch Info</h3>

<p>Use <code>git branch -vv</code> to get all your local branchs' tracking branch. You can also use <code>git show remote origin</code> to get the tracking info, but with a lot of trivial info.</p>

<h2><a name="branch_operation"></a>Branch Operation</h2>

<p>To checkout a new branch from remote repo: When you want to change to a branch that is not in your local side,</p>

<ul>
<li>use <code>git branch -a</code> to list all the branches, and find the one you want to checkout in the remote.</li>
<li>If the branch you are looking for is not there, or you want to make sure that the branch is up-to-date, run <code>git pull</code> first before you do checkout.</li>
<li>Then run <code>git checkout  origin/&lt;branch_name&gt;</code>, and you will get the branch, and change to the branch.</li>
</ul>


<h2><a name="git_commit_amend"></a>Use <code>git commit --amend</code></h2>

<p>The <code>git commit --amend</code> command is a convenient way to fix up the most recent commit. <strong>It lets you combine staged changes with the previous commit instead of committing it as an entirely new snapshot.</strong> It can also be used to simply edit the previous commit message without changing its snapshot.</p>

<p>But, amending doesn’t just alter the most recent commit—it replaces it entirely. To Git, it will look like a brand new commit. It’s important to keep this in mind when working with public repositories.</p>

<p><code>git commit --amend</code> will open your editor, allowing you to change the commit message of the most recent commit. Additionally, you can set the commit message directly in the command line with: <code>git commit --amend -m "New commit message"</code>.</p>

<h2><a name="check_commit_history"></a>Check commit history</h2>

<h4>search</h4>

<p>First, use <code>git log</code> to find the commit we want. We can use <code>git log --author=&lt;someone&gt;</code> to narrow the scope.</p>

<p>Then, use <strong>git diff COMMIT^ COMMIT</strong> to get all the changes of one commit.</p>

<p>More useful commands on <code>git log</code></p>

<table>
<thead>
<tr>
<th>git commands</th>
<th> in GUI <em>SourceTree</em> </th>
<th> comments</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>git log --author=&lt;someone&gt;</code> </td>
<td> on the top left, select <em>Search</em> view </td>
<td> list all commits <em>someone</em> made</td>
</tr>
<tr>
<td><code>git log --name-only</code> </td>
<td> on the top left, select <em>Log</em> view </td>
<td>  list all commits and each modified or new created files</td>
</tr>
<tr>
<td><code>git log -- &lt;file&gt;</code> </td>
<td> right click a file and select <em>log selected&hellip;</em> </td>
<td> list all commits on a file that exist</td>
</tr>
<tr>
<td><code>git log --all -- &lt;path-to-file&gt;</code> </td>
<td> &ndash; </td>
<td> list all commits on a <strong>deleted</strong> file. If you want to restor the file, use <code>git checkout &lt;commit&gt;^ -- &lt;path-to-file&gt;</code></td>
</tr>
<tr>
<td><code>git log -g --grep=&lt;key words&gt;</code> </td>
<td> on the top left, select <em>Search</em> view </td>
<td>  find the commits which contains the <em>key words</em> in the commit messages. <strong>Note:</strong>use double quotes for key words with blank spaces.</td>
</tr>
</tbody>
</table>


<h2><a name="git_ignore"></a>.gitignore</h2>

<p>Sometimes we want to ignore some files/folders from being tracked by git. We can use <strong>.gitignore</strong> file to do this. But this only works for the untracked items. If you have done <em>git add file</em> to the file once, .gitignore will not exclude this file from being tracked. For this case, we can use the following two ways to ignore the file:</p>

<h5><code>git rm \-\-cached file</code></h5>

<p>This command will remove the file from the stage, and if you exclude the file in the <strong>.gitignore</strong>, it will not appear in the <em>untrancked files</em> list. But you will get a <em>deleted: file</em> in the <em>changes to be commited</em> list, and the next time you commit, the file in the repo will be deleted.</p>

<p>If this is not what you want, and you only want to ignore the file locally, and don&rsquo;t want to remove it in the repo, because someone else may need this file, go to the second method.</p>

<h5><code>git update-index \-\-assume-unchanged file</code></h5>

<p>This method doesn&rsquo;t need <strong>.gitignore</strong>, and will not delete the file in the repo. The disadvantage is: when you clone the repo in other places, you need to run the command again.</p>

<h2><a name="git_stash"></a>Using <code>git stash</code></h2>

<p>Reference:</p>

<ul>
<li><a href="http://www.cppblog.com/deercoder/archive/2011/11/13/160007.html">here</a>: Chinese version</li>
<li><a href="http://www.gitguys.com/topics/switching-branches-without-committing/">here</a>: provide a good scenario for using <code>git stash</code>.</li>
</ul>


<h3>Description</h3>

<p>When you are woring on a <code>newbranch</code> which is based on an <code>oldbranch</code>, and have some uncommitted changes in <code>newbranch</code>. But now your manager notice you that there is an urgent issue needs to be fixed in the <code>oldbranch</code> right now, and you don&rsquo;t want to commit your changes in <code>newbranch</code>, what should we do here?</p>

<h3>Solution</h3>

<p>When we trying to checkout <code>oldbranch</code> using <code>git checkout oldbranch</code>, what is <em>git</em> doing? There may be three ways:</p>

<ol>
<li>Ignore the uncommitted working directory changes in <code>newbranch</code>, and set the working directory to the files in the <code>oldbranch</code>. The uncommited changes in the <code>newbranch</code> will be lost.</li>
<li>Ignore the state of the files in <code>oldbranch</code>, and use the working directory files in <code>newbranch</code>. Completely wrong! This will not confirm with the original <code>oldbranch</code>.</li>
<li>Attempt to merge in the changes from the working directory in <code>newbranch</code> into the files in <code>oldbranch</code>.</li>
</ol>


<p><em>Git</em> actually tries to use <em>#3</em> method.</p>

<h5>With no confilicts</h5>

<p>checkout <code>oldbranch</code> from <code>newbranch</code> with uncommitted changes in <code>newbranch</code>, but <strong>NO Conflicts</strong> between the two branches</p>

<p>The sample log:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>M    test.txt
</span><span class='line'>Switched to branch 'oldbranch'</span></code></pre></td></tr></table></div></figure>


<p>And the <code>M</code> means the <code>test.txt</code> is successfully merged.</p>

<h5>With Conflicts</h5>

<p>checkout <code>oldbranch</code> from <code>newbranch</code> with uncommitted changes in <code>newbranch</code>, but <strong>With Conflict</strong> between the two branches. In this situation, if you want to checkout <code>oldbranch</code> any way, use <code>git checkout -m oldbranch</code> which will let git list all the conflicts, as follows:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ git checkout -m oldbranch
</span><span class='line'>M   test.txt
</span><span class='line'>Switched to branch 'oldbranch'
</span><span class='line'>$ cat test.txt
</span><span class='line'>This is the test file.
</span><span class='line'>&lt;&lt;&lt;&lt;&lt;&lt;&lt; oldbranch
</span><span class='line'>Second line added from the 'oldbranch' branch.
</span><span class='line'>=======
</span><span class='line'>A conflicted line added on the test branch.
</span><span class='line'>&gt;&gt;&gt;&gt;&gt;&gt;&gt; local
</span><span class='line'>$ git branch
</span><span class='line'>* oldbranch
</span><span class='line'>  newbranch</span></code></pre></td></tr></table></div></figure>


<h5><code>git stash</code></h5>

<p>But most of the time, we want to keep the uncommited changes staying in <code>newbranch</code>, and <code>oldbranch</code> as it was. And when we finish the work in <code>oldbranch</code> and get back to <code>newbranch</code>, the uncommited changes is still there. For this purpose, we need <code>git stash</code>:</p>

<ol>
<li>in <code>newbranch</code>, run <code>git stash</code>. Check <code>git status</code>, and there will be nothing changed.</li>
<li><code>git checkout oldbranch</code>.</li>
<li>Work in <code>oldbranch</code>, and commit the changes.</li>
<li><code>git checkout newbranch</code></li>
<li><code>git stash pop</code></li>
</ol>


<p><em>Git</em> will hold a stash stack for all the stashes in all branches. That is to say, no matter how many branches you have, you will have only one stash stack. So when you run <code>git stash pop</code>, you should check the stash stack using <code>git stash list</code>, you will get:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>stash@{0}: WIP on oldbranch: 6ed44e2 checkin a new file
</span><span class='line'>stash@{1}: WIP on newbranch: 7a51723 checkin
</span><span class='line'>stash@{2}: WIP on oldbranch: 022cbf7 first checkin
</span><span class='line'>stash@{3}: WIP on newbranch: 6995c80 checkin changes to test.txt</span></code></pre></td></tr></table></div></figure>


<p>If you want to roll back the last stash in newbranch, in #5 step, run <code>git stash pop stash@{1}</code>. If you don&rsquo;t use the index <code>stash@{1}</code>, the top stash in the stash stack will be popped out.</p>

<h2><a name="kdiff3"></a>Use <em>kdiff3</em> as the default tool for git</h2>

<p>When you run <code>git diff</code>, the difference will be listed in the command window. If you want to see the difference in a visual window (for exmple, <em>kdiff3</em>):</p>

<ol>
<li>install <em>kdiff3</em> in your mac</li>
<li><p>As the new version of git has build-in support for <em>kdiff3</em>, so there is no need for manually configuration, just run</p>

<pre><code>$ git config --global merge.tool *kdiff3*
</code></pre></li>
<li><p>If <em>kdiff3</em> is not in your path, run</p>

<pre><code>$ git config --global mergetool.kdiff3.path /Applications/kdiff3.app/Contents/MacOS/kdiff3
</code></pre></li>
<li><p>Use <code>git difftool</code> instead of <code>git diff</code> to let git launch <em>kdiff3</em> for the difference. Also use <code>git mergetool</code> instead of <code>git merge</code> for merging files.</p>

<blockquote><p>Notice: <code>git mergetool</code> should be used after <code>git merge branch_name</code> and there are some merge conflicts. Use <code>get help mergetool</code> for detail.</p></blockquote></li>
</ol>


<p>To check the configuration result, open <em>~/.gitignore</em>.</p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2025

    Zhang Hongchao


<!--Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>--></footer>
		</div>
		
		<div class="right-col">
			<div class="toc-container">
				<h3>文章目录</h3>
				<div id="toc"></div>
			</div>
			<script>
			document.addEventListener('DOMContentLoaded', function() {
				const content = document.querySelector('.entry-content');
				if (!content) return;
				
				const headings = content.querySelectorAll('h1, h2, h3, h4, h5, h6');
				const toc = document.getElementById('toc');
				
				if (headings.length > 0) {
					let minLevel = 6;
					headings.forEach(heading => {
						const level = parseInt(heading.tagName[1]);
						minLevel = Math.min(minLevel, level);
					});
					
					let currentLevel = minLevel;
					let tocHTML = '<ul class="toc-list">';
					
					headings.forEach((heading, index) => {
						const level = parseInt(heading.tagName[1]);
						const id = `heading-${index}`;
						heading.id = id;
						
						if (level > currentLevel) {
							tocHTML += '<ul>'.repeat(level - currentLevel);
						} else if (level < currentLevel) {
							tocHTML += '</ul>'.repeat(currentLevel - level);
						}
						
						tocHTML += `<li><a href="#${id}">${heading.textContent}</a></li>`;
						currentLevel = level;
					});
					
					tocHTML += '</ul>'.repeat(Math.max(0, currentLevel - minLevel));
					tocHTML += '</ul>';
					
					toc.innerHTML = tocHTML;
				} else {
					toc.innerHTML = '<p>本文没有目录</p>';
				}
			});
			</script>
		</div>
		
	</div>
	










</body>
</html>
