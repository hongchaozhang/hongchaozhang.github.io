
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>室内定位技术现状 - Reading Space</title>
	<meta name="author" content="Zhang Hongchao">

	
	<meta name="description" content="室内定位技术现状 室内定位各种技术的特点。
室内定位技术的现状：简单介绍苹果、高德、百度、识途等公司的技术。 室内定位技术简介 室内定位的应用场景，参见室内定位应用场合。 室内地图 要进行室内定位，首先需要有室内地图。 室内定位技术 &mdash; 工作原理 应用场合 GPS &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Reading Space" type="application/atom+xml">
	
	<link rel="canonical" href="http://hongchaozhang.github.io/blog/2017/02/21/indoor-position/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-62806905-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li><a href="#">About</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
		
			<a class="github" href="https://github.com/hongchaozhang" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>



<section class="categories">
          <ul id="category_cloud" class="nav nav-list"><a href='/blog/categories/algorithm' style='font-size: 102.66666666666667%'>algorithm(2)</a> <a href='/blog/categories/android' style='font-size: 108.0%'>android(6)</a> <a href='/blog/categories/android-studio' style='font-size: 101.33333333333333%'>android studio(1)</a> <a href='/blog/categories/augmented-reality' style='font-size: 105.33333333333333%'>augmented reality(4)</a> <a href='/blog/categories/cs' style='font-size: 101.33333333333333%'>cs(1)</a> <a href='/blog/categories/css' style='font-size: 104.0%'>css(3)</a> <a href='/blog/categories/design-pattern' style='font-size: 104.0%'>design pattern(3)</a> <a href='/blog/categories/html' style='font-size: 105.33333333333333%'>html(4)</a> <a href='/blog/categories/http' style='font-size: 104.0%'>http(3)</a> <a href='/blog/categories/ios' style='font-size: 160.0%'>ios(45)</a> <a href='/blog/categories/java' style='font-size: 102.66666666666667%'>java(2)</a> <a href='/blog/categories/javascript' style='font-size: 109.33333333333333%'>javascript(7)</a> <a href='/blog/categories/machine-learning' style='font-size: 113.33333333333333%'>machine learning(10)</a> <a href='/blog/categories/map-tech' style='font-size: 104.0%'>map tech(3)</a> <a href='/blog/categories/mobile' style='font-size: 101.33333333333333%'>mobile(1)</a> <a href='/blog/categories/mongodb' style='font-size: 101.33333333333333%'>mongodb(1)</a> <a href='/blog/categories/music' style='font-size: 109.33333333333333%'>music(7)</a> <a href='/blog/categories/nlp' style='font-size: 102.66666666666667%'>nlp(2)</a> <a href='/blog/categories/nlu' style='font-size: 102.66666666666667%'>nlu(2)</a> <a href='/blog/categories/nodejs' style='font-size: 109.33333333333333%'>nodejs(7)</a> <a href='/blog/categories/objective-c' style='font-size: 129.33333333333334%'>objective-c(22)</a> <a href='/blog/categories/philosophy' style='font-size: 102.66666666666667%'>philosophy(2)</a> <a href='/blog/categories/productivity' style='font-size: 132.0%'>productivity(24)</a> <a href='/blog/categories/python' style='font-size: 108.0%'>python(6)</a> <a href='/blog/categories/reading' style='font-size: 152.0%'>reading(39)</a> <a href='/blog/categories/server' style='font-size: 101.33333333333333%'>server(1)</a> <a href='/blog/categories/swift' style='font-size: 109.33333333333333%'>swift(7)</a> <a href='/blog/categories/web' style='font-size: 116.0%'>web(12)</a> <a href='/blog/categories/wwdc' style='font-size: 102.66666666666667%'>wwdc(2)</a> <a href='/blog/categories/xcode' style='font-size: 110.66666666666667%'>xcode(8)</a> </ul>
      </section>


</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">室内定位技术现状</h1>
	<div class="entry-content" itemprop="articleBody"><ol>
<li>室内定位各种技术的特点。</li>
<li>室内定位技术的现状：简单介绍苹果、高德、百度、识途等公司的技术。</li>
</ol>


<!-- more -->


<h2>室内定位技术简介</h2>

<p>室内定位的应用场景，参见<a href="https://senion.com/indoor-positioning-for-retail/">室内定位应用场合</a>。</p>

<h3>室内地图</h3>

<p>要进行室内定位，首先需要有室内地图。</p>

<h3>室内定位技术</h3>

<table>
<thead>
<tr>
<th> &mdash; </th>
<th> 工作原理  </th>
<th> 应用场合  </th>
</tr>
</thead>
<tbody>
<tr>
<td> GPS </td>
<td> 接收多个卫星信号计算位置，信号中包含卫星信息和时间戳，根据时间差计算距离。 </td>
<td> 室外定位跟踪，农业和军事应用 </td>
</tr>
<tr>
<td> 基站定位 </td>
<td> 接收多个基站信号，信号中包含基站信息，根据信号强度计算距离。</td>
<td> &mdash; </td>
</tr>
<tr>
<td> Wi-Fi    </td>
<td> 接收多个Wi-Fi信号，根据强度计算距离。   </td>
<td> 室内定位 </td>
</tr>
<tr>
<td> 蓝牙</td>
<td> 接收低功耗蓝牙beacon发射的信号获取beacon信息，通过信号强度计算距离。  </td>
<td> 室内定位 </td>
</tr>
<tr>
<td> RFID</td>
<td> &mdash;  </td>
<td> 存货跟踪，厘米级精度定位要求 </td>
</tr>
<tr>
<td> 地磁</td>
<td> 在地磁指纹采集的基础上，通过磁感应器和网络请求获取位置信息。</td>
<td> &mdash; </td>
</tr>
<tr>
<td> NFC </td>
<td> &mdash;  </td>
<td> 支付／票务</td>
</tr>
<tr>
<td> 陀螺</td>
<td> 在初始状态已知的情况下，通过积分计算未来状态。    </td>
<td> 和其它定位方式结合使用，在保证一定精度的基础上，降低功耗。 </td>
</tr>
</tbody>
</table>


<table>
<thead>
<tr>
<th> &mdash;   </th>
<th> GPS</th>
<th> 基站定位</th>
<th> Wi-Fi</th>
<th> 蓝牙</th>
<th> RFID   </th>
<th> 地磁 </th>
<th> NFC    </th>
<th> 陀螺  </th>
</tr>
</thead>
<tbody>
<tr>
<td> 配置密度   </td>
<td> 全球    </td>
<td> 200米-2000米 </td>
<td> 20米-50米 </td>
<td> 1米-50米 </td>
<td> 1厘米-100米 </td>
<td> 全球 </td>
<td> &mdash;    </td>
<td> 不限  </td>
</tr>
<tr>
<td> 可接入（1-5）   </td>
<td> 4  </td>
<td> 4  </td>
<td> 3    </td>
<td> 4   </td>
<td> 2 </td>
<td> 2    </td>
<td> 3 </td>
<td> 4</td>
</tr>
<tr>
<td> 精度（1-5）</td>
<td> 1(10米) </td>
<td> 0.5(100米)   </td>
<td> 3(3-5米)  </td>
<td> 4(1-3米) </td>
<td> 5(厘米级别) </td>
<td> &mdash;  </td>
<td> 5(厘米级别) </td>
<td> 0.5(10米／100米) </td>
</tr>
<tr>
<td> 隐私安全（1-5） </td>
<td> 3  </td>
<td> 3  </td>
<td> 2    </td>
<td> 3   </td>
<td> 4 </td>
<td> 5    </td>
<td> 4.5    </td>
<td> 5</td>
</tr>
<tr>
<td> 代价（1-5）</td>
<td> 5  </td>
<td> 5  </td>
<td> 3    </td>
<td> 4   </td>
<td> 2 </td>
<td> 1.5  </td>
<td> 3 </td>
<td> 1</td>
</tr>
</tbody>
</table>


<p> 参考：<a href="http://lighthouse.io/indoor-location-technologies-compared/">Indoor location technologies compared</a></p>

<p> <strong>指纹技术</strong></p>

<p> 直接根据Wi-Fi或者蓝牙的信号强度计算距离会有比较大的误差，因为每个接入点的信号强度衰减模型不统一，并且受所在环境（遮挡等）的影响比较大。所以，就实地采集每个位置处每个接入点的信号强度，并存入服务器供后续定位请求使用。</p>

<p> 其它定位原理参考<a href="http://bbs.lbsyun.baidu.com/forum.php?mod=viewthread&amp;tid=116547&amp;extra=page%3D1">室内定位技术原理揭秘</a>。</p>

<h2>各厂商实现的室内定位技术</h2>

<h3>苹果</h3>

<p>苹果在2014年的WWDC上（Taking Core Location Indoors）推出了iBeacon技术和协议，以及对应的SDK，实现室内定位。</p>

<p>关于iBeacon的几个问题。</p>

<ul>
<li><p>我部署的iBeacon节点是否会被别的商家使用？</p>

<p>  回答是Yes！由于iBeacon协议开放，而且易于伪造，你部署的节点完全可以被竞争企业使用。甚至是伪造一个跟你的ID完全相同的Beacon。防止冒用蹭用是一个课题。</p>

<p>  设备商应该会给出一个解决方案，但截止目前还是可以被冒用。由于现在还没大规模部署，还有时间去解决这个问题。</p></li>
<li><p>iBeacon的耗电量如何？</p>

<p>  现在市售方案除Estimote比较特殊外，基本上都是采用的TI2540或2541方案。Beacon作为蓝牙基站发射时间特别短只有4mS左右。</p>

<p>  Beacon的发射周期可调，比如苹果规定100mS发射一次，也就是说100mS里只发射4ms。不同的使用场景可以根据实际需要调整发射周期、发射频率，功耗也会有差别，短的半年，长的3-4年。</p></li>
</ul>


<p><strong>参考</strong></p>

<ul>
<li><a href="http://www.voidcn.com/blog/u012716788/article/p-4590383.html">iBeacon能否精确室内定位等10个技术问题</a></li>
</ul>


<h3>高德</h3>

<p>高德地图支持Wi-Fi和蓝牙iBeacon室内定位。如果是iOS系统，只能用iBeacon定位，因为iOS系统不提供Wi-Fi底层数据接口。</p>

<table>
<thead>
<tr>
<th> 设备 </th>
<th> 精度  </th>
<th> 支持系统   </th>
<th> 部署密度  </th>
<th> 设备单价 </th>
<th> 支持标准  </th>
</tr>
</thead>
<tbody>
<tr>
<td> WIFI </td>
<td> 3~8米 </td>
<td> Android 4.0及以上    </td>
<td> 间隔30米部署，700平米1个 </td>
<td> 上百元   </td>
<td> 标准2.4G/5G频段</td>
</tr>
<tr>
<td> 蓝牙 </td>
<td> 1~5米 </td>
<td> Android 4.3及以上，iOS 8及以上 </td>
<td> 间隔 8米部署，50平1个    </td>
<td> 数十元   </td>
<td> 标准蓝牙4.0广播协议 </td>
</tr>
</tbody>
</table>


<p>应用高德进行室内定位的步骤：</p>

<ol>
<li>准备室内地图（使用高德已有的或者自己制作）。</li>
<li>铺设Wi-Fi或iBeacon接入点。</li>
<li>使用高德提供的定位数据采集工具进行数据采集。</li>
<li>数据采集完毕编译后，上传至服务器。</li>
<li>使用高德提供的定位数据检测工具现场体验定位效果。</li>
<li>开发应用，使用高德室内定位SDK获取位置，包括经纬度和楼层信息。</li>
</ol>


<p>关于室内地图：</p>

<ol>
<li><p>高德已覆盖数据</p>

<p> 高德已有室内地图数据，可免费申请使用。</p></li>
<li><p>高德未覆盖数据</p>

<p> 若为高德未覆盖室内地图数据，提供如下两种数据生产方案：</p>

<ul>
<li>委托与高德合作的第三方生产。</li>
<li>申请自主生产。</li>
</ul>
</li>
</ol>


<p><strong>参考</strong></p>

<ul>
<li><a href="https://lbs.amap.com/getting-started/locate">高德室外定位技术</a></li>
<li><a href="https://lbs.amap.com/getting-started/indoorlocation/">高德室内定位方案</a></li>
<li><a href="https://lbs.amap.com/getting-started/indoorintro">高德室内地图数据</a></li>
</ul>


<h3>百度</h3>

<p>大型商超内寻找店铺、停车场内反向寻车等业务的发展基础都是室内高精度定位。利用三角定位技术、增强WiFi指纹模型技术、地磁技术、蓝牙技术等， 提供精度1-3m的室内高精度定位服务。结合百度室内图服务，更好帮助开发者解决室内定位难题。</p>

<h3>识途</h3>

<p>特色：地磁定位技术。</p>

<p><a href="http://www.ubirouting.com/creator.php">定位和采集工具：识途 Creator</a></p>

<p>仅通过上面的视频很难理解其采集原理，但是，识途提出了采集过程中以下几点注意事项：</p>

<ol>
<li>在按下采集按钮开始采集的时候，请<strong>即刻</strong>开始行走；在到达终点停止行走后，请<strong>即刻</strong>按下采集按钮结束采集。</li>
<li>在采集过程中请保持<strong>统一、稳定、自然</strong>的行走速度, 尽可能保持在道路的中央行走，并且采集过程中尽可能避免晃动手机。</li>
<li>如果在某段路径受到了外界的严重干扰，无法保持一致的行走速度或预定的行走方向，务必针对这段路径进行重新采集。</li>
</ol>


<p>从上面的注意事项，可以大致猜测他是如何做到测量的地磁信号和地理位置的对应。</p>

<p><strong>参考</strong></p>

<ul>
<li><a href="http://www.ubirouting.com/%E8%AF%86%E9%80%94%E5%AE%A4%E5%86%85%E5%AE%9A%E4%BD%8D%E6%8A%80%E6%9C%AF%E7%BB%BC%E8%BF%B0.pdf">识途室内定位技术综述</a></li>
<li><a href="http://ubirouting.com/%E8%AF%86%E9%80%94%E5%AE%A4%E5%86%85%E5%9C%B0%E7%A3%81%E7%8E%AF%E5%A2%83%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E6%96%B9%E6%B3%95%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9.pdf">识途室内地磁环境数据采集方法及注意事项</a></li>
</ul>


<h2>闲谈</h2>

<ul>
<li><p>GPS不是泛指，是特指。</p>

<p>  我们一提到定位，大家印象中最熟悉的技术可能就是GPS定位。其实更为准确的说法是GNSS(Global Navigation Satellite System)定位，中文含义就是全球卫星定位系统。GPS只是GNSS中的一种实现方法，该系统是由美国部署的。另外，还有其他类型的定位系统，例如，俄罗斯的格洛纳斯（GLONASS），欧洲的伽利略和中国的北斗。关系如下：</p>

<ul>
<li>GNSS

<ul>
<li>GPS（美国）</li>
<li>GLONASS（俄罗斯）</li>
<li>北斗（中国）</li>
</ul>
</li>
</ul>
</li>
</ul>


<h2>参考</h2>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2023

    Zhang Hongchao


<!--Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>--></footer>
		</div>
	</div>
	










</body>
</html>
